{"version":3,"file":"index.cjs","sources":["../src/index.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\n\nconst isSequent = (c, n) => ++c === n;\n\nconst getBlock = (currentBlock, value) => {\n  if (!currentBlock) {\n    return {\n      from: value,\n      to: value,\n    };\n  }\n\n  if (isSequent(currentBlock.to, value)) {\n    currentBlock.to = value;\n    return currentBlock;\n  }\n\n  return {\n    from: value,\n    to: value,\n  };\n};\n\nconst stringifyBlock = (block) => {\n  if (!block) {\n    return '';\n  }\n\n  const { from, to } = block;\n\n  if (from === to) {\n    return `${to}`;\n  }\n\n  if (from + 1 === to) {\n    return `${from},${to}`;\n  }\n\n  return `${from}-${to}`;\n};\n\nconst stringifyArray = (inputArray) => {\n  const lng = inputArray.length;\n\n  if (lng === 0) {\n    return '';\n  }\n\n  if (lng === 1) {\n    return `${inputArray[0]}`;\n  }\n\n  let currBlock = null;\n  const serializedBlocks = [];\n\n  inputArray.forEach((value, index) => {\n    const nextBlock = getBlock(currBlock, value);\n    if (currBlock && currBlock !== nextBlock) {\n      serializedBlocks.push(stringifyBlock(currBlock));\n    }\n\n    if (index < lng - 1) {\n      currBlock = nextBlock;\n    } else {\n      serializedBlocks.push(stringifyBlock(nextBlock));\n    }\n  });\n\n  return serializedBlocks.join(',');\n};\n\nexport const transformToString = (array) =>\n  new Promise((resolve, reject) => {\n    if (array && Array.isArray(array) && array.length) {\n      resolve(stringifyArray(array));\n    } else {\n      reject(new Error(\"Object isn't array or it's undefined or empty\"));\n    }\n  });\n"],"names":[],"mappings":"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"}